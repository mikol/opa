opa="undefined"==typeof opa?{}:opa,opa.collapse=function(){"use strict";function a(a){return function(e){("click"===e.type||13===e.keyCode)&&(opa.dom.hasClassName(a,s)?opa.dom.removeClassName(a,s):opa.dom.addClassName(a,s))}}for(var e=OPA_COLLAPSE_CONFIG.baseClassName+" "+OPA_COLLAPSE_CONFIG.collapsedClassName,s=OPA_COLLAPSE_CONFIG.collapsedClassName,o=opa.dom.getElementsByClassName(OPA_COLLAPSE_CONFIG.classNames),C=OPA_COLLAPSE_CONFIG.ignoreClassName,m=o.length;m--;){var l=o[m],t=opa.dom.hasClassName(l,C)||opa.dom.hasClassName(l.parentNode,C)||l.offsetHeight<=OPA_COLLAPSE_CONFIG.maxHeight;if(!t){var d=document.createElement("a");d.setAttribute("tabindex","0"),d.className=OPA_COLLAPSE_CONFIG.targetClassName,l.appendChild(d),opa.dom.addClassName(l,e),opa.dom.on(d,"click keydown",a(l))}}}();